---
title: "Run_Analysis"
format: html
---

# Source everything :D

```{r}
source("./src/Source_Everything.R") # Load all functions
source("./LoadSamples.R") # Load samples and relations

# Install_Packages(packages) 
```


```{r}
Check_SampleName(samplesDF$SampleName)


diannReport <- Generate_DiannReport(samplesDF, organism = "")
diannMatrix <- Generate_DiannMatrix(diannReport, header = "Genes")

```

# Precursor x RT

```{r}
precursorRT <- Generate_Graph_PrecursorRT(diannReport, fancyLabels, colors, cols = 5)

ggplot2::ggsave(
  filename = paste0("Precursor_x_RT", ".png"),
  path = "./data/output/basic/",
  plot = precursorRT,
  width = 20, height = 10,
  units = "cm", dpi = 300
)

rm(precursorRT)
```

# Ion Cloud

```{r}
ionCloud <- Generate_IonCloud(diannReport, fancyLabels, cols = 5)

ggplot2::ggsave(
  filename = paste0("ionCloud", ".png"),
  path = "./data/output/basic/",
  plot = ionCloud,
  width = 20, height = 10,
  units = "cm", dpi = 300
)

rm(ionCloud)
```

# Number of Peptides and proteins

```{r}
nPeptides <- Generate_Graph_NumberOfPeptides(diannReport, fancyLabels, colors)
nProteins <- Generate_Graph_NumberOfProteins(diannReport, labels = NULL, colors)

pept_and_prot <- patchwork::wrap_plots(nPeptides, nProteins, ncol = 2)

ggplot2::ggsave(
  filename = paste0("number_peptides_and_proteins", ".png"),
  path = "./data/output/basic/",
  plot = pept_and_prot,
  width = 20, height = 10,
  units = "cm", dpi = 300
)

rm(nPeptides, nProteins, pept_and_prot)
```

# Sparsity Matrix

```{r}
sparsityMatrix <- Generate_SparsityMatrix(diannMatrix, fancyLabels)

ggplot2::ggsave(
  filename = paste0("sparsityMatrix", ".png"),
  path = "./data/output/basic/",
  plot = sparsityMatrix,
  width = 12, height = 20,
  units = "cm", dpi = 300
)

rm(sparsityMatrix)
```